"use strict";(self.webpackJsonplogin=self.webpackJsonplogin||[]).push([[138],{2138:(B,v,s)=>{s.r(v),s.d(v,{LoginModule:()=>Z});var d=s(3574),l=s(2227),k=s(2573),e=s(4004),i=s(6223);let y=(()=>{class n{constructor(){this._emailPattern=/^[^\s@]+@[^\s@]+\.[^\s@]+$/}get emailPattern(){return this._emailPattern}isInvalidField(o,t){return t.controls[o].errors&&t.controls[o].touched}getErrorField(o,t){let r=t.controls[o].errors,a=Object.keys(r??{})[0];if(!r)return"";switch(a){case"required":return"*campo requerido";case"pattern":return"El email debe ser en un formato correcto";case"minlength":return`El m\xednimo requerido es de ${r[a].requiredLength}`;case"maxlength":return`El m\xe1ximo requerido es de ${r[a].requiredLength}`;default:return"Some error"}}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=s(4420),b=s(9862),u=s(3635),x=s(553),S=s(6429);let E=(()=>{class n{getToken(){S.jwt.getToken()}setToken(o){S.jwt.setToken(o)}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),L=(()=>{class n{constructor(){this.apiUrl=x.N.apiGateaway+"/v1/auth",this.http=(0,e.inject)(b.eN),this.jwtService=(0,e.inject)(E)}login(o){return this.http.post(`${this.apiUrl}/login`,o).pipe((0,u.tap)(t=>this.jwtService.setToken(t.jwt)))}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h=s(2593),m=s(336),f=s(3714);function P(n,C){if(1&n){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",8)(1,"p-button",9),e.\u0275\u0275listener("onClick",function(){e.\u0275\u0275restoreView(o);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.goBackToPrevPage())}),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("styleClass","z-2 w-3rem h-2rem"))}let w=(()=>{class n{constructor(){this.isBackPageActive=!1,this.backPageUrl="",this.location=(0,e.inject)(d.Location),this.router=(0,e.inject)(l.Router)}goBackToPrevPage(){this.backPageUrl?this.router.navigate([this.backPageUrl]):this.location.back()}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["shared-header"]],inputs:{isBackPageActive:"isBackPageActive",backPageUrl:"backPageUrl"},decls:8,vars:1,consts:[[1,"flex","justify-content-center","align-items-center","h-full"],[1,"logo"],["width","213","height","62","viewBox","0 0 213 62","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M35 38H29.64V26.24C29.64 24.5867 29.3467 23.3733 28.76 22.6C28.2 21.8 27.4133 21.4 26.4 21.4C25.36 21.4 24.36 21.8133 23.4 22.64C22.4667 23.44 21.8 24.4933 21.4 25.8V38H16.04V26.24C16.04 24.56 15.7467 23.3333 15.16 22.56C14.6 21.7867 13.8133 21.4 12.8 21.4C11.76 21.4 10.76 21.8 9.8 22.6C8.86667 23.4 8.2 24.4533 7.8 25.76V38H2.44V17.04H7.28V20.92C8.08 19.56 9.14667 18.52 10.48 17.8C11.8133 17.0533 13.3467 16.68 15.08 16.68C16.8133 16.68 18.16 17.1067 19.12 17.96C20.1067 18.8133 20.7333 19.8667 21 21.12C21.8533 19.68 22.9333 18.5867 24.24 17.84C25.5733 17.0667 27.0667 16.68 28.72 16.68C30.0267 16.68 31.08 16.92 31.88 17.4C32.7067 17.8533 33.3467 18.48 33.8 19.28C34.2533 20.0533 34.56 20.9333 34.72 21.92C34.9067 22.9067 35 23.9067 35 24.92V38ZM47.3466 38.4C45.6399 38.4 44.1066 38.12 42.7466 37.56C41.3866 36.9733 40.2266 36.1733 39.2666 35.16C38.3332 34.1467 37.6132 32.9867 37.1066 31.68C36.5999 30.3733 36.3466 29 36.3466 27.56C36.3466 26.0933 36.5999 24.7067 37.1066 23.4C37.6132 22.0933 38.3332 20.9333 39.2666 19.92C40.2266 18.9067 41.3866 18.12 42.7466 17.56C44.1066 16.9733 45.6399 16.68 47.3466 16.68C49.0532 16.68 50.5732 16.9733 51.9066 17.56C53.2666 18.12 54.4266 18.9067 55.3866 19.92C56.3466 20.9333 57.0666 22.0933 57.5466 23.4C58.0532 24.7067 58.3066 26.0933 58.3066 27.56C58.3066 29 58.0532 30.3733 57.5466 31.68C57.0666 32.9867 56.3466 34.1467 55.3866 35.16C54.4532 36.1733 53.3066 36.9733 51.9466 37.56C50.5866 38.12 49.0532 38.4 47.3466 38.4ZM41.8666 27.56C41.8666 28.7867 42.1066 29.88 42.5866 30.84C43.0666 31.7733 43.7199 32.5067 44.5466 33.04C45.3732 33.5733 46.3066 33.84 47.3466 33.84C48.3599 33.84 49.2799 33.5733 50.1066 33.04C50.9332 32.48 51.5866 31.7333 52.0666 30.8C52.5732 29.84 52.8266 28.7467 52.8266 27.52C52.8266 26.32 52.5732 25.24 52.0666 24.28C51.5866 23.32 50.9332 22.5733 50.1066 22.04C49.2799 21.5067 48.3599 21.24 47.3466 21.24C46.3066 21.24 45.3732 21.52 44.5466 22.08C43.7199 22.6133 43.0666 23.36 42.5866 24.32C42.1066 25.2533 41.8666 26.3333 41.8666 27.56ZM71.8444 38.4C70.2444 38.4 68.8177 38.04 67.5644 37.32C66.311 36.6 65.3244 35.6133 64.6044 34.36V38H59.9244V8.8H65.2844V20.72C66.031 19.4667 67.0044 18.48 68.2044 17.76C69.431 17.04 70.8577 16.68 72.4844 16.68C73.8444 16.68 75.0844 16.9733 76.2044 17.56C77.3244 18.12 78.2844 18.9067 79.0844 19.92C79.911 20.9333 80.5377 22.0933 80.9644 23.4C81.4177 24.7067 81.6444 26.1067 81.6444 27.6C81.6444 29.0933 81.391 30.4933 80.8844 31.8C80.4044 33.1067 79.7244 34.2667 78.8444 35.28C77.9644 36.2667 76.9244 37.04 75.7244 37.6C74.551 38.1333 73.2577 38.4 71.8444 38.4ZM70.3644 33.84C71.2177 33.84 71.991 33.68 72.6844 33.36C73.4044 33.0133 74.0177 32.56 74.5244 32C75.0577 31.44 75.4577 30.7867 75.7244 30.04C76.0177 29.2667 76.1644 28.4667 76.1644 27.64C76.1644 26.4933 75.9244 25.44 75.4444 24.48C74.991 23.4933 74.351 22.7067 73.5244 22.12C72.7244 21.5333 71.7777 21.24 70.6844 21.24C69.911 21.24 69.1644 21.4267 68.4444 21.8C67.751 22.1467 67.1244 22.6267 66.5644 23.24C66.031 23.8533 65.6044 24.5467 65.2844 25.32V30.32C65.4444 30.8533 65.6977 31.3333 66.0444 31.76C66.4177 32.1867 66.8444 32.56 67.3244 32.88C67.8044 33.1733 68.2977 33.4133 68.8044 33.6C69.3377 33.76 69.8577 33.84 70.3644 33.84ZM83.0128 42.08C83.4928 42.1867 83.9328 42.28 84.3328 42.36C84.7595 42.44 85.1195 42.48 85.4128 42.48C85.9195 42.48 86.3328 42.3467 86.6528 42.08C86.9995 41.84 87.3328 41.3867 87.6528 40.72C87.9728 40.08 88.3061 39.1733 88.6528 38L80.3728 17.04H85.9328L91.5728 32.52L96.5328 17.04H101.653L92.8528 42.16C92.5328 43.0933 92.0395 43.9333 91.3728 44.68C90.7328 45.4533 89.9195 46.0533 88.9328 46.48C87.9728 46.9333 86.8928 47.16 85.6928 47.16C85.2661 47.16 84.8395 47.12 84.4128 47.04C83.9861 46.9867 83.5195 46.88 83.0128 46.72V42.08ZM129.605 17.2H131.605L122.605 38H120.845L116.245 27.16L111.645 38H109.885L100.885 17.2H102.845L110.805 35.8L115.085 25.64L111.605 17.24H113.405L116.245 24.08L119.045 17.24H120.885L117.405 25.64L121.685 35.8L129.605 17.2ZM131.244 32C131.244 30.7467 131.617 29.6667 132.364 28.76C133.11 27.8267 134.137 27.1067 135.444 26.6C136.75 26.0667 138.257 25.8 139.964 25.8C141.03 25.8 142.137 25.8933 143.284 26.08C144.43 26.2667 145.457 26.52 146.364 26.84V24.88C146.364 22.96 145.804 21.4267 144.684 20.28C143.59 19.1333 142.07 18.56 140.124 18.56C139.084 18.56 138.004 18.7733 136.884 19.2C135.764 19.6267 134.617 20.24 133.444 21.04L132.604 19.6C133.964 18.6933 135.27 18.0133 136.524 17.56C137.804 17.08 139.07 16.84 140.324 16.84C142.804 16.84 144.764 17.5733 146.204 19.04C147.644 20.5067 148.364 22.5067 148.364 25.04V35.36C148.364 35.68 148.43 35.92 148.564 36.08C148.724 36.24 148.95 36.3333 149.244 36.36V38C149.004 38.0267 148.804 38.04 148.644 38.04C148.484 38.04 148.35 38.04 148.244 38.04C147.737 37.96 147.337 37.7467 147.044 37.4C146.777 37.0533 146.63 36.6667 146.604 36.24V34.6C145.644 35.8 144.404 36.7333 142.884 37.4C141.39 38.0667 139.817 38.4 138.164 38.4C136.857 38.4 135.67 38.12 134.604 37.56C133.564 37 132.737 36.24 132.124 35.28C131.537 34.2933 131.244 33.2 131.244 32ZM145.564 33.72C145.83 33.3733 146.03 33.04 146.164 32.72C146.297 32.4 146.364 32.1067 146.364 31.84V28.4C145.404 28.0267 144.404 27.7467 143.364 27.56C142.324 27.3733 141.257 27.28 140.164 27.28C138.084 27.28 136.39 27.6933 135.084 28.52C133.804 29.3467 133.164 30.4667 133.164 31.88C133.164 32.76 133.39 33.5733 133.844 34.32C134.297 35.0667 134.924 35.6667 135.724 36.12C136.55 36.5733 137.497 36.8 138.564 36.8C140.057 36.8 141.43 36.52 142.684 35.96C143.964 35.3733 144.924 34.6267 145.564 33.72ZM152.608 8.8H154.648V33.88C154.648 34.84 154.848 35.5067 155.248 35.88C155.648 36.2267 156.168 36.4 156.808 36.4C157.235 36.4 157.675 36.36 158.128 36.28C158.581 36.2 158.981 36.0933 159.328 35.96L159.728 37.6C159.275 37.76 158.715 37.9067 158.048 38.04C157.381 38.1733 156.808 38.24 156.328 38.24C155.208 38.24 154.301 37.9067 153.608 37.24C152.941 36.5467 152.608 35.6267 152.608 34.48V8.8ZM160.96 8.8H163V33.88C163 34.84 163.2 35.5067 163.6 35.88C164 36.2267 164.52 36.4 165.16 36.4C165.586 36.4 166.026 36.36 166.48 36.28C166.933 36.2 167.333 36.0933 167.68 35.96L168.08 37.6C167.626 37.76 167.066 37.9067 166.4 38.04C165.733 38.1733 165.16 38.24 164.68 38.24C163.56 38.24 162.653 37.9067 161.96 37.24C161.293 36.5467 160.96 35.6267 160.96 34.48V8.8ZM177.991 38.4C176.525 38.4 175.165 38.12 173.911 37.56C172.658 36.9733 171.565 36.1867 170.631 35.2C169.725 34.1867 169.005 33.0267 168.471 31.72C167.965 30.3867 167.711 28.9867 167.711 27.52C167.711 25.5467 168.151 23.76 169.031 22.16C169.911 20.56 171.125 19.28 172.671 18.32C174.218 17.3333 175.951 16.84 177.871 16.84C179.845 16.84 181.591 17.3333 183.111 18.32C184.631 19.3067 185.831 20.6133 186.711 22.24C187.618 23.84 188.071 25.6 188.071 27.52C188.071 27.68 188.071 27.84 188.071 28C188.071 28.16 188.058 28.2933 188.031 28.4H169.791C169.898 29.9733 170.338 31.4 171.111 32.68C171.885 33.96 172.871 34.9733 174.071 35.72C175.298 36.44 176.631 36.8 178.071 36.8C179.511 36.8 180.871 36.4267 182.151 35.68C183.431 34.9333 184.325 33.9733 184.831 32.8L186.591 33.28C186.191 34.2667 185.551 35.1467 184.671 35.92C183.818 36.6933 182.805 37.3067 181.631 37.76C180.485 38.1867 179.271 38.4 177.991 38.4ZM169.711 26.84H186.151C186.045 25.2133 185.618 23.7733 184.871 22.52C184.125 21.2667 183.138 20.28 181.911 19.56C180.711 18.84 179.378 18.48 177.911 18.48C176.445 18.48 175.111 18.84 173.911 19.56C172.711 20.28 171.738 21.2667 170.991 22.52C170.245 23.7733 169.818 25.2133 169.711 26.84ZM199.595 37C199.462 37.0533 199.195 37.1867 198.795 37.4C198.395 37.6133 197.889 37.8133 197.275 38C196.662 38.16 195.982 38.24 195.235 38.24C194.515 38.24 193.835 38.1067 193.195 37.84C192.582 37.5467 192.089 37.12 191.715 36.56C191.342 36 191.155 35.32 191.155 34.52V18.84H188.235V17.2H191.155V10.08H193.155V17.2H197.995V18.84H193.155V34.04C193.209 34.8133 193.489 35.4 193.995 35.8C194.502 36.1733 195.089 36.36 195.755 36.36C196.582 36.36 197.302 36.2267 197.915 35.96C198.529 35.6667 198.889 35.48 198.995 35.4L199.595 37Z","fill","white"],["d","M206.084 38.4103C205.066 38.4103 204.193 38.0519 203.467 37.335C202.75 36.618 202.396 35.7502 202.405 34.7314C202.396 33.7315 202.75 32.8778 203.467 32.1703C204.193 31.4534 205.066 31.0949 206.084 31.0949C207.047 31.0949 207.896 31.4534 208.631 32.1703C209.377 32.8778 209.754 33.7315 209.763 34.7314C209.754 35.4106 209.575 36.0285 209.226 36.585C208.886 37.1416 208.438 37.5849 207.881 37.9151C207.334 38.2453 206.735 38.4103 206.084 38.4103Z","fill","#F01159"],[1,"box-semicircle"],[1,"semicircle"],["class","absolute top-0 left-0 m-4 z-2",4,"ngIf"],[1,"absolute","top-0","left-0","m-4","z-2"],["icon","pi pi-arrow-left",3,"styleClass","onClick"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"header",0)(1,"div",1),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(2,"svg",2),e.\u0275\u0275element(3,"path",3)(4,"path",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275element(6,"section",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,P,2,1,"span",7),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("ngIf",r.isBackPageActive))},dependencies:[d.NgIf,m.zx],styles:['header[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.box-semicircle[_ngcontent-%COMP%]{position:absolute;height:400px;width:100%;top:-20vh;z-index:1}.semicircle[_ngcontent-%COMP%]{position:relative;background:#1C284C;height:45vh}.semicircle[_ngcontent-%COMP%]:before{position:absolute;content:"";left:50%;z-index:10;width:100%;max-width:100vw;height:90px;border-radius:50%;background:inherit;transform:translate(-50%) translateY(50%);bottom:0}.logo[_ngcontent-%COMP%]{z-index:10}']})}return n})(),M=(()=>{class n{constructor(){this.fb=(0,e.inject)(i.qu),this.modalService=(0,e.inject)(h.Z),this.validatorService=(0,e.inject)(y),this.authService=(0,e.inject)(L),this.loading=!1,this.isPassHidden=!0,this.loginGroup=this.fb.group({email:["",[i.kI.required,i.kI.pattern(this.validatorService.emailPattern)]],password:["",[i.kI.required]]})}onSubmit(){if(this.loginGroup.markAllAsTouched(),this.loginGroup.invalid||this.loading)return;const{email:o,password:t}=this.loginGroup.value;o&&t&&(this.switchLoading(),this.authService.login({email:o,password:t}).pipe((0,u.delay)(2e3)).subscribe({next:()=>{alert("logueado correctamente")},error:r=>{setTimeout(()=>{this.modalService.activeModal({message:"No pudimos comprobar tus credenciales.\n Volv\xe9 a intentarlo.",title:"\xa1Ups!",icon:"pi pi-exclamation-circle",footer:{buttonExittext:"Reintentar",link:"/recovery",textLink:"\xbfProblemas para ingresar a tu cuenta?"}}),this.switchLoading()},2e3)},complete:()=>this.switchLoading()}))}switchPassShow(){this.isPassHidden=!this.isPassHidden}isInvalidField(o){return this.validatorService.isInvalidField(o,this.loginGroup)}switchLoading(){this.loading=!this.loading}getErrorField(o){return this.validatorService.getErrorField(o,this.loginGroup)}navigate(o){(0,_.navigateToUrl)(o)}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["module-login-page"]],decls:32,vars:8,consts:[[1,"layout"],[1,"flex","flex-column","justify-content-center","align-items-center","h-full"],[1,"m-0","mt-5"],[1,"m-0","text-medium-standard"],[1,"flex","flex-column","h-full","w-full","p-4","justify-content-between",3,"formGroup","ngSubmit"],[1,"w-full"],[1,"m-0","mb-3","text-medium-standard"],[1,"mb-2"],[1,"p-float-label"],["pInputText","","id","email","formControlName","email",1,"w-full"],["for","email"],[1,"mt-3","ml-1","errorAlert"],[1,"p-float-label","w-full","p-input-icon-right"],[3,"click"],["pInputText","","id","password","formControlName","password",1,"w-full",3,"type"],["for","password"],[1,"flex","flex-column","gap-2","align-items-center"],["type","submit","label","Iniciar Sesi\xf3n",3,"loading"],[1,"m-0","text-medium-standard","colorPrimary",3,"click"],[1,"m-0","text-medium-standard","colorPrimary",3,"routerLink"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"shared-header"),e.\u0275\u0275elementStart(2,"main",1)(3,"h4",2),e.\u0275\u0275text(4,"\xa1Hola!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h6",3),e.\u0275\u0275text(6," Qu\xe9 bueno verte por ac\xe1 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"form",4),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275elementStart(8,"div",5)(9,"h6",6),e.\u0275\u0275text(10,"Comenz\xe1 ingresando tus datos"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",7)(12,"span",8),e.\u0275\u0275element(13,"input",9),e.\u0275\u0275elementStart(14,"label",10),e.\u0275\u0275text(15,"Email"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"small",11),e.\u0275\u0275text(17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div")(19,"span",12)(20,"i",13),e.\u0275\u0275listener("click",function(){return r.switchPassShow()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"input",14),e.\u0275\u0275elementStart(22,"label",15),e.\u0275\u0275text(23,"Password"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"small",11),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",16),e.\u0275\u0275element(27,"p-button",17),e.\u0275\u0275elementStart(28,"p",18),e.\u0275\u0275listener("click",function(){return r.navigate("/auth/onboarding")}),e.\u0275\u0275text(29,"\xbfNo ten\xe9s cuenta? registrate ac\xe1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"p",19),e.\u0275\u0275text(31,"\xbfProblemas para ingresar a tu cuenta?"),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275advance(7),e.\u0275\u0275property("formGroup",r.loginGroup),e.\u0275\u0275advance(10),e.\u0275\u0275textInterpolate1("",r.isInvalidField("email")?r.getErrorField("email"):""," "),e.\u0275\u0275advance(3),e.\u0275\u0275classMap(r.isPassHidden?"pi pi-eye":"pi pi-eye-slash"),e.\u0275\u0275advance(1),e.\u0275\u0275property("type",r.isPassHidden?"password":"text"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",r.isInvalidField("password")?r.getErrorField("password"):""," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("loading",r.loading),e.\u0275\u0275advance(3),e.\u0275\u0275property("routerLink","/recovery"))},dependencies:[l.RouterLink,m.zx,f.o,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,w],styles:["h4[_ngcontent-%COMP%]{font-size:20px}.text-medium-standard[_ngcontent-%COMP%]{font-size:16px}.colorPrimary[_ngcontent-%COMP%]{color:#f01159}.errorAlert[_ngcontent-%COMP%]{color:red}.errorInput[_ngcontent-%COMP%]{border:2px solid red!important}.layout[_ngcontent-%COMP%]{display:grid;width:100vw;min-height:100vh;grid-template-rows:30% 1fr}"]})}return n})(),j=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-recovery-pass"]],decls:4,vars:2,consts:[[1,"layout"],[3,"isBackPageActive","backPageUrl"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"shared-header",1),e.\u0275\u0275elementStart(2,"div"),e.\u0275\u0275element(3,"router-outlet"),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("isBackPageActive",!0)("backPageUrl","/"))},dependencies:[l.RouterOutlet,w],styles:[".layout[_ngcontent-%COMP%]{display:grid;width:100vw;min-height:100vh;grid-template-rows:30% 1fr}"]})}return n})(),F=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["login-layout"]],decls:2,vars:0,consts:[[1,"bg-deepblue"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"router-outlet"),e.\u0275\u0275elementEnd())},dependencies:[l.RouterOutlet],styles:[".bg-deepblue[_ngcontent-%COMP%]{background-color:#05142c;color:#fff}"]})}return n})(),g=(()=>{class n{constructor(){this.baseUrl=x.N.apiGateaway+"/v1/password",this.http=(0,e.inject)(b.eN),this._userInfo=new u.BehaviorSubject(null)}userInfo(){return this._userInfo.asObservable()}RecoveryActived(){return!!this._userInfo.value?.maskedMail}recovery(o,t){return this.http.post(`${this.baseUrl}/recovery`,{documentNumber:o,tramitNumber:t}).pipe((0,u.tap)(r=>{this._userInfo.next({documentNumber:o,tramitNumber:t,maskedMail:r.maskedMail})}))}confirmCode(o){if(this._userInfo.value){const{documentNumber:t,tramitNumber:r}=this._userInfo.value;return this.http.post(`${this.baseUrl}/validate-code`,{documentNumber:t,tramitNumber:r,code:o})}throw(0,u.throwError)(()=>"error")}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var I=s(6782);let T=(()=>{class n{constructor(){this.loading=!1,this.modalService=(0,e.inject)(h.Z),this.fb=(0,e.inject)(i.qu),this.recoveryService=(0,e.inject)(g),this.validationService=(0,e.inject)(y),this.router=(0,e.inject)(l.Router),this.nextStep=new e.EventEmitter,this.recoveryGroup=this.fb.group({documentNumber:["",[i.kI.required,i.kI.maxLength(8),i.kI.minLength(8)]],tramitNumber:["",[i.kI.required,i.kI.maxLength(11),i.kI.minLength(11)]]})}onSubmit(){if(this.recoveryGroup.markAllAsTouched(),this.recoveryGroup.invalid)return;this.switchLoading();const{documentNumber:o,tramitNumber:t}=this.recoveryGroup.value;this.recoveryService.recovery(o,t).subscribe({next:()=>{this.router.navigate(["/recovery/code"]),this.switchLoading()},error:()=>this.switchLoading(),complete:()=>this.switchLoading()})}isInvalidField(o){return this.validationService.isInvalidField(o,this.recoveryGroup)}getErrorField(o){return this.validationService.getErrorField(o,this.recoveryGroup)}showInfo(){this.modalService.activeModal({message:"Tal y como figura en la imagen, en el frente de tu Documento Nacional de Identidad encontrar\xe1s el n\xfamero de 11 d\xedgitos",title:"\xbfCu\xe1l es mi n\xfamero de tr\xe1mite?",img:"/images/tramitNumber.png"})}switchLoading(){this.loading=!this.loading}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["recovery-info-user"]],outputs:{nextStep:"nextStep"},decls:22,vars:8,consts:[[1,"flex","flex-column","justify-content-center","align-items-center","h-full","pt-5"],[1,"m-0","mt-6"],[1,"flex","flex-column","h-full","w-full","p-4","justify-content-between",3,"formGroup","ngSubmit"],[1,"w-full"],[1,"mb-2"],[1,"p-float-label"],["pInputText","","pKeyFilter","int","id","documentNumber","formControlName","documentNumber",1,"w-full",3,"type"],["for","documentNumber"],[1,"mt-3","ml-1","errorAlert"],[1,"p-float-label","w-full","p-input-icon-right"],[3,"click"],["pInputText","","id","tramitNumber","pKeyFilter","int","formControlName","tramitNumber",1,"w-full",3,"type"],["for","tramitNumber"],[1,"flex","flex-column","gap-2","align-items-center"],["type","submit","label","Continuar",3,"loading"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"main",0)(1,"h4",1),e.\u0275\u0275text(2,"Vamos a recuperar tu cuenta"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"form",2),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"span",5),e.\u0275\u0275element(7,"input",6),e.\u0275\u0275elementStart(8,"label",7),e.\u0275\u0275text(9,"Nro de Documento"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"small",8),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div")(13,"span",9)(14,"i",10),e.\u0275\u0275listener("click",function(){return r.showInfo()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"input",11),e.\u0275\u0275elementStart(16,"label",12),e.\u0275\u0275text(17,"Nro de tr\xe1mite"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"small",8),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",13),e.\u0275\u0275element(21,"p-button",14),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",r.recoveryGroup),e.\u0275\u0275advance(4),e.\u0275\u0275property("type","number"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",r.isInvalidField("documentNumber")?r.getErrorField("documentNumber"):""," "),e.\u0275\u0275advance(3),e.\u0275\u0275classMap("pi pi-info-circle"),e.\u0275\u0275advance(1),e.\u0275\u0275property("type","number"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",r.isInvalidField("tramitNumber")?r.getErrorField("tramitNumber"):""," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("loading",r.loading))},dependencies:[m.zx,f.o,I.Fr,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".errorAlert[_ngcontent-%COMP%]{color:red}.text-medium-standard[_ngcontent-%COMP%]{font-size:16px}h4[_ngcontent-%COMP%]{font-size:20px}"]})}return n})();var N=s(5219);const V=["firstInput"];function G(n,C){if(1&n){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(o);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.resendCode())}),e.\u0275\u0275text(1," Reenviar "),e.\u0275\u0275elementEnd()}}function H(n,C){1&n&&(e.\u0275\u0275elementStart(0,"span",19),e.\u0275\u0275element(1,"i",20),e.\u0275\u0275text(2," Reenviando... "),e.\u0275\u0275elementEnd())}function A(n,C){1&n&&(e.\u0275\u0275elementStart(0,"small",21),e.\u0275\u0275text(1,"*Los campos son requeridos"),e.\u0275\u0275elementEnd())}const p=function(){return{width:"45px",backgroundColor:"#1C284C"}},O=[{path:"",component:F,children:[{component:M,path:""},{component:j,path:"recovery",children:[{path:"",component:T,pathMatch:"full"},{path:"code",component:(()=>{class n{constructor(){this.recoveryService=(0,e.inject)(g),this.router=(0,e.inject)(l.Router),this.modalService=(0,e.inject)(h.Z),this.messageService=(0,e.inject)(N.ez),this.fb=(0,e.inject)(i.qu),this.codeGroup=this.fb.group({code1:["",i.kI.required],code2:["",i.kI.required],code3:["",i.kI.required],code4:["",i.kI.required]}),this.userInfo=null,this.loading=!1,this.sendingCode=!1}onClick(o){let t=o.clipboardData?.getData("text");t&&this.pasteCode(t)}ngOnInit(){this.subscription=this.recoveryService.userInfo().subscribe(o=>{this.userInfo=o})}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){this.codeGroup.markAllAsTouched(),!this.codeGroup.invalid&&this.confirmCode()}onKeyup(o){if(!this.codeGroup.invalid)return this.onSubmit();if(!o.target.value)return;let r;"Backspace"!==o.key&&(r=o.target.nextElementSibling,r.focus())}switchLoading(){this.loading=!this.loading}switchSendingCode(){this.sendingCode=!this.sendingCode}confirmCode(){this.switchLoading();const{code4:o,code1:t,code2:r,code3:a}=this.codeGroup.value;this.recoveryService.confirmCode(t+r+a+o).subscribe({next:()=>{this.router.navigate(["/recovery/password"])},error:()=>{this.switchLoading(),this.clearForm(),this.modalService.activeModal({message:"El c\xf3digo que ingresaste no es v\xe1lido, por favor volv\xe9 a verificarlo en tu correo y reitent\xe1, o podes volver a ingresar tus datos",title:"\xa1Ups!",icon:"pi pi-exclamation-circle",footer:{buttonExittext:"Reitentar",link:"/recovery",textLink:"Volver a ingresar mis datos"}})},complete:()=>this.switchLoading()})}clearForm(){this.firstInput.nativeElement.focus(),this.codeGroup.markAsUntouched(),this.codeGroup.setValue({code1:"",code2:"",code3:"",code4:""}),this.codeGroup.clearValidators()}resendCode(){this.switchSendingCode(),this.recoveryService.recovery(this.userInfo?.documentNumber,this.userInfo?.tramitNumber).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Email reenviado",detail:"Volv\xe9 a revisar tu correo",key:"bc"})},error:()=>this.switchSendingCode(),complete:()=>this.switchSendingCode()})}formInvalid(){return this.codeGroup.invalid&&this.codeGroup.controls.code1.touched&&this.codeGroup.controls.code2.touched&&this.codeGroup.controls.code3.touched&&this.codeGroup.controls.code4.touched}pasteCode(o){let t=o.split("");t.length<4||this.codeGroup.setValue({code1:t[0],code2:t[1],code3:t[2],code4:t[3]})}static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-code"]],viewQuery:function(t,r){if(1&t&&e.\u0275\u0275viewQuery(V,5),2&t){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(r.firstInput=a.first)}},hostBindings:function(t,r){1&t&&e.\u0275\u0275listener("paste",function(c){return r.onClick(c)})},decls:26,vars:26,consts:[[1,"flex","flex-column","justify-content-center","align-items-center","h-full","pt-5"],[1,"m-0","mt-6"],[1,"m-0","text-medium-standard","text-center","mt-3"],[1,"flex","flex-column","h-full","w-full","p-4","justify-content-between"],[1,"flex","h-full","flex-column","gap-4","justify-content-center","align-items-center"],[1,"flex","h-full","flex-column","justify-content-between",3,"formGroup","ngSubmit"],[1,"flex","flex-column","gap-3"],[1,"flex","gap-3"],["pInputText","","type","text","oninput","this.value = this.value.toUpperCase()","pKeyFilter","alphanum","autofocus","",1,"custom-otp-input","text-center",3,"maxLength","formControlName","keyup"],["firstInput",""],["pInputText","","type","text","pKeyFilter","alphanum","oninput","this.value = this.value.toUpperCase()",1,"custom-otp-input","text-center",3,"maxLength","formControlName","keyup"],[1,"flex","flex-column","justify-content-center","align-items-center"],[1,"m-0","text-medium-standard","mb-2"],["class","color",3,"click",4,"ngIf","ngIfElse"],["isSendingCode",""],[1,"flex","flex-column","gap-2","align-items-center"],["type","submit","label","Continuar",3,"loading"],["class","errorAlert",4,"ngIf"],[1,"color",3,"click"],[1,"color"],[1,"pi","pi-spin","pi-spinner"],[1,"errorAlert"]],template:function(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"main",0)(1,"h4",1),e.\u0275\u0275text(2,"\xa1Muy bien!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"h6",2),e.\u0275\u0275text(4," Te enviamos un c\xf3digo de confirmaci\xf3n "),e.\u0275\u0275element(5,"br"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",3)(8,"div",4)(9,"form",5),e.\u0275\u0275listener("ngSubmit",function(){return r.onSubmit()}),e.\u0275\u0275elementStart(10,"div",6)(11,"div",7)(12,"input",8,9),e.\u0275\u0275listener("keyup",function(c){return r.onKeyup(c)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"input",10),e.\u0275\u0275listener("keyup",function(c){return r.onKeyup(c)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"input",10),e.\u0275\u0275listener("keyup",function(c){return r.onKeyup(c)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"input",10),e.\u0275\u0275listener("keyup",function(c){return r.onKeyup(c)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",11)(18,"h6",12),e.\u0275\u0275text(19,"\xbfNo recibiste el c\xf3digo?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(20,G,2,0,"span",13),e.\u0275\u0275template(21,H,3,0,"ng-template",null,14,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",15),e.\u0275\u0275element(24,"p-button",16),e.\u0275\u0275template(25,A,2,0,"small",17),e.\u0275\u0275elementEnd()()()()()),2&t){const a=e.\u0275\u0275reference(22);e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" Revisa tu correo electr\xf3nico ",null==r.userInfo?null:r.userInfo.maskedMail," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("formGroup",r.codeGroup),e.\u0275\u0275advance(3),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(22,p)),e.\u0275\u0275property("maxLength",1)("formControlName","code1"),e.\u0275\u0275advance(2),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(23,p)),e.\u0275\u0275property("maxLength",1)("formControlName","code2"),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(24,p)),e.\u0275\u0275property("maxLength",1)("formControlName","code3"),e.\u0275\u0275advance(1),e.\u0275\u0275styleMap(e.\u0275\u0275pureFunction0(25,p)),e.\u0275\u0275property("maxLength",1)("formControlName","code4"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!r.sendingCode)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("loading",r.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.formInvalid())}},dependencies:[d.NgIf,m.zx,f.o,I.Fr,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".text-medium-standard[_ngcontent-%COMP%]{font-size:16px}h4[_ngcontent-%COMP%]{font-size:24px}.color[_ngcontent-%COMP%]{color:#f01159}.errorAlert[_ngcontent-%COMP%]{color:red}"]})}return n})(),canActivate:[(n,C)=>{const o=(0,e.inject)(l.Router);return!!(0,e.inject)(g).RecoveryActived()||o.navigate(["/recovery"])}]}]}]},{path:"**",component:k.O}];let R=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.RouterModule.forChild(O),l.RouterModule]})}return n})();var U=s(6640),z=s(6208);let Z=(()=>{class n{static#e=this.\u0275fac=function(t){return new(t||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.CommonModule,R,U.H,i.UX,z.m,i.u5]})}return n})()}}]);